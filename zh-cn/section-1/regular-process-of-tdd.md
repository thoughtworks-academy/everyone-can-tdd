# TDD的一般步骤

TDD步骤有两个版本，一个是简化版，一个是完整版。

简化版的图形如下：

[此处需要一个图]

对这个图的理解我们可以看作： 

1. 先变红
2. 再变绿
3. 重构

从变红走到变绿，从变绿走到重构，从重构可能会走到变红，可能会走到变绿。

红绿指的是运行测试的结果

完整版的图形如下：

[此处需要一个图]

什么是期望的失败呢？

比如我们写一个测试add函数的测试

````

    var result = add(1,1);
    expect(result).to.be(2);

````    

如果我们运行测试得到的提示是类似下面的意思

expcet 0 to be 2

那我们就可以说是得到了一个期望的失败。

如果我们运行测试得到的提示类似：


undefine is not a function

那我们就可以说，我们得到的是一个不期望的失败。

得到一个不期望的失败可能也会去写实现代码，因为如果我为了把期望从1+1=2，改到有一个叫add的函数，还要写一个测试的话，那么这个效率实在是太低了。
从效率的角度出发，我有时候也会去写实现代码。

所以不要太拘泥于形式，但是要注意这中间很重要的是期望。
我们要时刻知道我们到底在期望什么。
这一点对于初学者找到自己写的代码哪里有问题很有帮助，有时候出错解决不了，可以想一想是不是期望得太靠后了。
用一句经典的话来解释前面这句话，那就是问为什么之前，先问是不是。

比如在问为什么add(1,1)函数没有返回2之前，先问有没有正确的调用到了add函数。
我们很多同学在看到程序没有按自己期望的返回时总是马上觉得实现代码写错了，其实有可能根本就没引用对。